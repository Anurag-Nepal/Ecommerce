<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{base::layout(~{::section})}">
<head>
<meta charset="UTF-8">
<title>Manage Admins | Admin</title>
</head>
<body>
	<section>
		<div class="container p-5">
			<div class="row mb-4">
				<div class="col-md-8">
					<h3>Manage Admins</h3>
				</div>
				<div class="col-md-4">
					<a href="/admin/add-admin" class="btn btn-danger float-end">
						<i class="fas fa-plus"></i> Add New Admin
					</a>
				</div>
			</div>

			<div class="card">
				<div class="card-header bg-danger text-white">
					<h5>Admin List</h5>
				</div>
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-striped table-hover" id="adminsTable">
							<thead class="table-danger">
								<tr>
									<th>#</th>
									<th>Name</th>
									<th>Email</th>
									<th>Mobile</th>
									<th>City</th>
									<th>State</th>
									<th>Account Status</th>
									<th>Locked Status</th>
									<th>Created Date</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="admin, stat : ${allAdmins}">
									<td th:text="${stat.count}"></td>
									<td th:text="${admin.name}"></td>
									<td th:text="${admin.email}"></td>
									<td th:text="${admin.mobile}"></td>
									<td th:text="${admin.city}"></td>
									<td th:text="${admin.state}"></td>
									<td>
										<span th:if="${admin.isEnable == true}" class="badge bg-success">
											<i class="fas fa-check-circle"></i> Active
										</span>
										<span th:if="${admin.isEnable == false}" class="badge bg-danger">
											<i class="fas fa-times-circle"></i> Inactive
										</span>
									</td>
									<td>
										<span th:if="${admin.accountStatusNonLocked == true}" class="badge bg-success">
											<i class="fas fa-unlock"></i> Unlocked
										</span>
										<span th:if="${admin.accountStatusNonLocked == false}" class="badge bg-warning text-dark">
											<i class="fas fa-lock"></i> Locked
										</span>
									</td>
									<td th:text="${#temporals.format(admin.createdAt, 'dd-MMM-yyyy')}"></td>
									<td>
										<a th:href="@{/admin/edit-admin/{id}(id=${admin.id})}" class="btn btn-sm btn-primary" title="Edit Admin">
											<i class="fas fa-edit"></i> Edit
										</a>
										<a th:href="@{/admin/edit-admin-status?status=true&id={id}(id=${admin.id})}" class="btn btn-sm btn-success" title="Activate" th:if="${admin.isEnable == false}">
											<i class="fas fa-check"></i> Activate
										</a>
										<a th:href="@{/admin/edit-admin-status?status=false&id={id}(id=${admin.id})}" class="btn btn-sm btn-warning" title="Deactivate" th:if="${admin.isEnable == true}">
											<i class="fas fa-ban"></i> Deactivate
										</a>
									</td>
								</tr>
								<tr th:if="${allAdmins.isEmpty()}">
									<td colspan="10" class="text-center text-muted">
										<i class="fas fa-inbox fa-3x mb-3"></i><br>
										<strong>No Admins Found</strong>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</section>

	<script>
		$(document).ready(function() {
			$('#adminsTable').DataTable({
				"pageLength": 10,
				"ordering": true,
				"searching": true,
				"paging": true
			});
		});
	</script>
</body>
</html>

