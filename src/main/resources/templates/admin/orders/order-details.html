<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{base::layout(~{::section})}">
<head>
<meta charset="UTF-8">
<title>Order Details | Admin</title>
</head>
<body>
	<section>
		<div class="container p-5">
			<div class="mb-3">
				<a th:href="@{/admin/manage-orders}" class="btn btn-secondary">
					<i class="fas fa-arrow-left"></i> Back to Orders
				</a>
			</div>

			<h3 class="mb-4">Order Details</h3>

			<th:block th:if="${session.successMsg}">
				<div class="alert alert-success alert-dismissible fade show" role="alert">
					[[${session.successMsg}]]
					<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
				</div>
				<th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
			</th:block>
			<th:block th:if="${session.errorMsg}">
				<div class="alert alert-danger alert-dismissible fade show" role="alert">
					[[${session.errorMsg}]]
					<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
				</div>
				<th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
			</th:block>

			<div class="card">
				<div class="card-header bg-danger text-white">
					<h5>Order Information</h5>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-md-6">
							<table class="table table-bordered">
								<tr>
									<th>Order ID:</th>
									<td th:text="${order.id}"></td>
								</tr>
								<tr>
									<th>Order Date:</th>
									<td th:text="${#temporals.format(order.orderDate, 'dd-MMM-yyyy HH:mm:ss')}"></td>
								</tr>
								<tr>
									<th>Total Price:</th>
									<td>&#2547; <span th:text="${order.totalPrice}"></span></td>
								</tr>
								<tr>
									<th>Order Status:</th>
									<td>
										<span th:if="${order.orderStatus == 'Pending'}" class="badge bg-warning text-dark">
											<i class="fas fa-hourglass-half"></i> Pending
										</span>
										<span th:if="${order.orderStatus == 'Confirmed'}" class="badge bg-info">
											<i class="fas fa-check-circle"></i> Confirmed
										</span>
										<span th:if="${order.orderStatus == 'Shipped'}" class="badge bg-primary">
											<i class="fas fa-truck"></i> Shipped
										</span>
										<span th:if="${order.orderStatus == 'Delivered'}" class="badge bg-success">
											<i class="fas fa-box-open"></i> Delivered
										</span>
										<span th:if="${order.orderStatus == 'Cancelled'}" class="badge bg-danger">
											<i class="fas fa-times-circle"></i> Cancelled
										</span>
									</td>
								</tr>
							</table>
						</div>
						<div class="col-md-6">
							<h6>Customer Information</h6>
							<table class="table table-bordered">
								<tr>
									<th>Name:</th>
									<td th:text="${order.user.name}"></td>
								</tr>
								<tr>
									<th>Email:</th>
									<td th:text="${order.user.email}"></td>
								</tr>
								<tr>
									<th>Phone:</th>
									<td th:text="${order.phoneNumber}"></td>
								</tr>
							</table>
						</div>
					</div>

					<div class="row mt-3">
						<div class="col-md-12">
							<h6>Shipping Address</h6>
							<table class="table table-bordered">
								<tr>
									<th>Address:</th>
									<td th:text="${order.address}"></td>
								</tr>
								<tr>
									<th>City:</th>
									<td th:text="${order.city}"></td>
								</tr>
								<tr>
									<th>State:</th>
									<td th:text="${order.state}"></td>
								</tr>
								<tr>
									<th>Zip Code:</th>
									<td th:text="${order.zipCode}"></td>
								</tr>
							</table>
						</div>
					</div>

					<div class="mt-3">
						<a th:href="@{/admin/update-order-status/{id}(id=${order.id})}" class="btn btn-warning">
							<i class="fas fa-edit"></i> Update Status
						</a>
					</div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>

